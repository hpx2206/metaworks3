<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" xml:lang="en" lang="en">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=320; initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="viewport" content="width=device-height; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;"/>
<meta name="viewport" content="width=device-height, target-densityDpi=medium-dpi"/>


		<!-- jquery -->
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery-ui-189custom/css/ui-lightness/jquery-ui-1.8.9.custom.css" />
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery-ui-189custom/development-bundle/themes/base/jquery.ui.all.css" />
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery.msg.css" media="screen" />
		
		<script type="text/javascript" src="scripts/jquery/jquery-latest.js"></script> 
		<script type="text/javascript" src="scripts/jquery/jquery-ui-latest.js"></script> 
		<script type="text/javascript" src="scripts/jquery/jquery.layout-latest.js"></script>
		<script type="text/javascript" src="scripts/jquery/jquery.center.js"></script>
		<script type="text/javascript" src="scripts/jquery/jquery.msg.js"></script>
		 
		<script type="text/javascript" src="scripts/jquery.view/jquerymx-1.0.custom.js"></script>
		
		<!-- json2 (ie7) -->
 		<script type="text/javascript" src="scripts/json/json2.js"></script>
				 
				 
		<!-- for flowchart -->
		<script type="text/javascript" src="scripts/raphael/raphael-min.js"></script>
		<script type="text/javascript" src="scripts/ajax/ajaxCommon.js"></script>
		<script type="text/javascript" src="scripts/crossBrowser/elementControl.js"></script>
		
		<script type="text/javascript" src="scripts/flowchart/flowchartDefinition.js"></script>		
		
		<script type="text/javascript" src="scripts/flowchart/flowchartUtil.js"></script>		 
		<script type="text/javascript" src="scripts/loopDrawForMW3.js"></script>


		<script type="text/javascript" src="scripts/popupTooltip.js"></script>
		
		<LINK type="text/css" rel="stylesheet" href="style/popupTooltip.css">
		<LINK type="text/css" rel="stylesheet" href="style/flowchart.css">
		
		<!-- smart tab -->
		<link rel="stylesheet" type="text/css" href="style/smartTab.css">				
		<script type="text/javascript" src="scripts/jquery/jquery.smartTab.js"></script>

		
		<!-- for keyboard mapping -->
		<script type="text/javascript" src="scripts/shortcut.js"></script>
		
				
		<!-- iphone -->		
		<link rel="stylesheet" href="style/simulator/simulator.css" />
		
		<!-- ejs engine -->
		<script type="text/javascript" src="scripts/ejs/ejs.js"></script>
		<script type="text/javascript" src="scripts/ejs/ejs_debugger.js"></script>
		<script type="text/javascript" src="scripts/ejs/view.js"></script>
	
	  	<script type='text/javascript' src='dwr/engine.js'></script> 
	  	<script type='text/javascript' src='dwr/util.js'></script>	  
	  	<script type='text/javascript' src='dwr/interface/Metaworks.js'></script> 
	  	<script type="text/javascript" src="dwr/metaworks/scripts/metaworks.js"></script>
	
		<!-- for context menu, import YUI -->
		<script type="text/javascript" src="scripts/yui-3.2.0-min.js"></script>
		<link rel="stylesheet" type="text/css" href="style/menu/reset.css">
		<link rel="stylesheet" type="text/css" href="style/menu/container.css">
		<link rel="stylesheet" type="text/css" href="style/menu/sam/menu.css">
		<script type="text/javascript" src="scripts/yui/build/utilities/utilities.js"></script>
		<script type="text/javascript" src="scripts/yui/build/container/container.js"></script>
		<script type="text/javascript" src="scripts/yui/build/menu/menu.js"></script>
	
		<!--  for ckeditor -->
		<script type='text/javascript' src='scripts/ckeditor_3.6.3/ckeditor/ckeditor.js'></script>
	
		<!-- for source code editor -->
		<script src="scripts/ace/build/src/ace.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/theme-eclipse.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/mode-javascript.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/mode-java.js" type="text/javascript" charset="utf-8"></script>
		
		
		<!-- for jLayout -->
		<!-- 
		<script src="scripts/jLayout/jquery.jlayout.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/jLayout/jlayout.border.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/jLayout/jlayout.grid.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/jLayout/jlayout.flexgrid.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/jLayout/jlayout.flow.js" type="text/javascript" charset="utf-8"></script>
		 -->
		 
		<!-- grid -->
		<link rel="stylesheet" type="text/css" media="screen" href="scripts/jquery.jqGrid-4.3.1/css/ui.jqgrid.css">
		<script src="scripts/jquery.jqGrid-4.3.1/js/i18n/grid.locale-en.js" type="text/javascript"></script>
		<script type="text/javascript" src="scripts/jquery.jqGrid-4.3.1/jquery.jqGrid.js"></script>

		<!-- popup -->
		<link rel="stylesheet" href="scripts/jquery/cluetip/jquery.cluetip.css" />
		
		<!-- popup -->
		<link rel="stylesheet" href="style/popup.css" />
		
		
		<!-- default -->
		<link rel="stylesheet" href="style/waveStyle/droppable_layout.css" />
		<link href="style/waveStyle/signIn.css" type="text/css" rel="stylesheet">
				

		<!--  for chart -->
		<script type='text/javascript' src='https://www.google.com/jsapi'></script>

		<!-- ScheduleCalendar -->
		<link  type="text/css" rel="stylesheet" href="style/Spacetree.css" media="screen" />
		<link type="text/css" rel="stylesheet" href="scripts/jquery/fullcalendar/fullcalendar.css" />
		<link type="text/css" rel="stylesheet" href="scripts/jquery/fullcalendar/fullcalendar.print.css" media="print" />

		<script type="text/javascript" src="scripts/jquery/fullcalendar/fullcalendar.min.js"></script>
		<script type="text/javascript" src="scripts/jit-yc.js"></script>
				
				
				
		<!-- for process designer -->
		<link rel="stylesheet" type="text/css" href="dwr/metaworks/org/uengine/codi/mw3/model/PureWebProcessDesigner.ejs.css" />
				
		<script type="text/javascript">
			mxBasePath = 'scripts/mxgraph/src';
		</script>
		<script type='text/javascript' src='scripts/mxgraph/src/js/mxClient.js'></script>
		<script type='text/javascript' src='scripts/mxgraph/examples/editors/js/mxApplication.js'></script>
		
		<!-- date -->
		<script type='text/javascript' src='scripts/format.js'></script>
		<script type='text/javascript' src='scripts/jquery/timeago/jquery.timeago.js'></script>				
						
						
		<!-- for source code editor -->
		<script src="scripts/ace/build/src/ace.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/theme-eclipse.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/mode-javascript.js" type="text/javascript" charset="utf-8"></script>
		<script src="scripts/ace/build/src/mode-java.js" type="text/javascript" charset="utf-8"></script>

						
		<script type="text/javascript">
			var Request = function() {
				this.getParameter = function(name) {
					var rtnval = "";
					var nowAddress = unescape(location.href);
					var parameters = (nowAddress.slice(nowAddress.indexOf("?") + 1,
							nowAddress.length)).split("&");
	
					for ( var i = 0; i < parameters.length; i++) {
						var varName = parameters[i].split("=")[0];
						if (varName.toUpperCase() == name.toUpperCase()) {
							rtnval = parameters[i].split("=")[1];
							break;
						}
					}
					return rtnval;
				}
			}

			
			var mainPage
		
			try{
				google.load('visualization', '1', {
					packages : [ 'corechart', 'gauge' ]
				});
	
				google.load('visualization', '1', {
					packages : [ 'corechart', 'gauge' ]
				});
				
				google.load('search', '1');
			}catch(e){
				if (console) 
					console.log(e);
			}
			
			$(document).ready(function() {
				var request = new Request();
				
				var defId = request.getParameter("defId");
				
		 		mw3.setWhen(mw3.WHEN_EDIT);
		 		mw3.template_error = function(e, actualFace) {
					if(e.lineNumber){
						if(e.lineText)
							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.lineText+": "+e.message;
						else
							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.message;
					}else
						var message = "["+actualFace+"] "+e.message;
				
					var logger = mw3.getAutowiredObject('org.uengine.codi.platform.Console');
					if(logger) logger.__getFaceHelper().addLog( message );
					else
						alert(message);
					
		 		}
		 		
		 		mw3.showError = function(objId, message, methodName){
					if( this.getFaceHelper(objId) && this.getFaceHelper(objId).endLoading)
						this.getFaceHelper(objId).endLoading();	
					else
						mw3.endLoading();
					
					try{mw3.endLoading();}catch(x){}
					
					$.msg({
						    content : "<b>" + mw3.localize(message) + "</b>"
					});
		 		}
		 		
		 		mw3.alert = function(message){
					$.msg({
						    content : "<b>" + mw3.localize(message) + "</b>"
					});
		 		}

		 		mw3.getMessage = function(key, defaultValue){
		 			var localeHandler = mw3.getAutowiredObject("org.uengine.codi.mw3.model.Locale");
		 			
		 			if(localeHandler!=null){		 				
		 				var message = localeHandler.resourceBundle[key];		 				
		 				if(message)
		 					return message;
		 			}
		 			
		 			if(defaultValue)
		 				return defaultValue;
		 			
		 			return key;		
		 		}
				
		 		
				var locatePage = new MetaworksObject({
                    __className : "org.uengine.codi.mw3.model.Locale"
                }, 'body');
					
				mainPage = new MetaworksObject({
                    __className : "org.uengine.codi.mw3.Login",
                    metaworksContext : {when: 'edit'},
                    rememberMe: true,
                    defId : defId
                }, 'body');
                
				window.onbeforeunload= function(){
				    return 'You are about to leave this page, OK?';
				};
			});
		</script>
	</head>
	
	<body onload="dwr.engine.setActiveReverseAjax(true);">
	</body>
</html>