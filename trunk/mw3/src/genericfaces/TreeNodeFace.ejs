<%
	if(value == null || typeof value == 'undefined')
		return true;

	var nameField = null;
	var childField = null;
	var iconField = null;
	var childLoadMethod = null;	
	
	if(objectMetadata.nameFieldDescriptor)
		nameField = fields[objectMetadata.nameFieldDescriptor.name];
	
	if(objectMetadata.childrenFieldDescriptor)
		childField = fields[objectMetadata.childrenFieldDescriptor.name];
		
	if(objectMetadata.iconFieldDescriptor)
		iconField = fields[objectMetadata.iconFieldDescriptor.name];
%>

<div class="item-fix">
	<div class="item">
		<span>x</span>
		<div class="label-content">
			<label style="display:inline-block; <%=iconField?'background-image: url(images/' + value[objectMetadata.iconFieldDescriptor.name] + '.png)':''%>">
				<u class="caption"><%=nameField.here()%></u>
			</label>
		</div>
	</div>		
</div>

<%	
	if(childField){
%>
	<u class="last root" style="display: block; height: auto; overflow: visible;">
		<%=childField.here({ejsPath : 'dwr/metaworks/genericfaces/TreeNodeArrayFace.ejs'})%>
	</u>
<%	
	}
%>