in metaworks widget!

<%

	if (value != null){	
		var width = null;
		var height = null;
	
		if(descriptor!=null){
			width = descriptor.getOptionValue('width');
			height = descriptor.getOptionValue('height');
		}
		
		var innerLayoutName = objectMetadata.faceOptions && objectMetadata.faceOptions['innerLayoutName'];
		var innerLayout = objectMetadata.faceOptions && objectMetadata.faceOptions['innerLayout'];
		var outerLayoutName = objectMetadata.faceOptions && objectMetadata.faceOptions['outerLayoutName'];
		var outerLayout = objectMetadata.faceOptions && objectMetadata.faceOptions['outerLayout'];
		
		if(typeof innerLayoutName == "undefined" || innerLayoutName == null) innerLayoutName = "";
		if(typeof innerLayout == "undefined" || innerLayout == null) innerLayout = "";
		if(typeof outerLayoutName == "undefined" || outerLayoutName == null) outerLayoutName = "";
		if(typeof outerLayout == "undefined" || outerLayout == null) outerLayout = "";
		
		var objectName; 

		if(value.__toString != null){
			objectName = value.__toString();
		}
		
		if(!objectName){
			objectName = objectMetadata.displayName;
		}
		
		var resourceName = null;
		if(objectName.indexOf('$')==0){
//		mw3.debug(resourceName);
			resourceName = objectName.substring(1);
		}
%>


			<div id="sm_<%=objectId%>" style="margin-top:12px; padding:0px;  display:none; float:left; width:160px; position:relative;">	
			    <div class="boxtopleft"><span class="boxtopright"><%if(resourceName){%><%=resources[resourceName].here()%><%}else{%><%=objectName%><%}%></span></div>
			    <div class="boxmiddleright">
			        <div class="boxmiddleleft">
			            <div class="togglebtnmax" onclick="mw3.getFaceHelper('<%=objectId%>').resume('<%=innerLayoutName%>','<%=innerLayout%>', '<%=outerLayoutName%>', '<%=outerLayout%>')"></div>
			            <!--<div id="slidedown" class="slidedown" onclick="outerLayout.allowOverflow('north') , con03();"></div>  -->
			            <div id="slideup<%=objectId%>" class="slideup" onclick="outerLayout.resetOverflow('north'), con031();"></div>
			            <div id="con<%=objectId%>" class="topcontentcontainer">
			            </div>
			        </div>
			    </div>
			    
			    <div class="miniboxbottomleft"><span class="miniboxbottomright"></span></div>
		    </div>
		
		
		
            <div class="boxtopleft">
            	<span class="boxtopright">
            		<div id="navigationTitle">
            			<%if(resourceName){%>
            				<%=resources[resourceName].here()%>
            			<%}else{%>
            				<%=objectName%>
            			<%}%>
            		</div>
            		<div id="loader_<%=objectId%>" class="loadingarea" style="display: none; "><img src="/uengine-web/images/waveStyle/ajax-loader.gif" border="0"></div>
            		
            		<div class="togglebtnmini" onclick="mw3.getFaceHelper('<%=objectId%>').minimize('<%=innerLayoutName%>','<%=innerLayout%>', '<%=outerLayoutName%>', '<%=outerLayout%>')"></div>
            		<div class="windowclose" onclick="mw3.getFaceHelper('<%=objectId%>').close()"></div>
            	</span>
            </div>
            
<%
		var showHeader = !(objectMetadata.faceOptions && objectMetadata.faceOptions['hideHeader']);
		
		if(showHeader){    
%>		        
            <div class="boxmiddleright">
                <div class="boxmiddleleft">                    
                    <div class="worklistcontentcontainer"  style="overflow:auto;">
<%                    
		}
%>
                    
<%	
						
		var showLabel = !(objectMetadata.faceOptions && objectMetadata.faceOptions['hideLabels']);
					
		for (var i=0; i<objectMetadata.fieldDescriptors.length; i++){						  
			var fd = objectMetadata.fieldDescriptors[i];
		  	
		  	if(fd.attributes && (fd.attributes['hidden'] || fd.attributes['resource'])) continue;
		  	if(fd.name == 'metaworksContext') continue;
		  	
		  	var fieldValue = value[fd.name];
			
			if(showLabel){
%>
							<span> <b><%=fd.displayName%></b> </span>
<%
			}
%>
							<%=fields[fd.name] ? fields[fd.name].here() : "XXX"%>
<%
		}						   
%>							
							
<%						   
		if(objectMetadata.serviceMethodContexts){
			for(var key in objectMetadata.serviceMethodContexts){						   
%>
									<%=methods[key].here()%>
<%   
			}
		}
								   
		if(showHeader){
%>		
                    </div>
                </div>
            </div>
<%
		}
%>
                        
            <div class="boxbottomleft"><span class="boxbottomright"></span></div>
 <%
     }
 %>