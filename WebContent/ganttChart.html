<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" xml:lang="en" lang="en">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		
		<!-- no cache -->
		<META http-equiv="Expires" content="-1">
		<META http-equiv="Pragma" content="no-cache">
		<META http-equiv="Cache-Control" content="No-Cache">
	
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"/>
	       <meta name="apple-mobile-web-app-capable" content="yes"/>
	       <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
	
		<!-- jquery -->
		<script type="text/javascript" src="scripts/jquery/jquery-1.7.2.min.js"></script>
		<script type="text/javascript" src="scripts/jquery/jquery-ui-1.8.23.custom.min.js"></script> 
		<script type="text/javascript" src="scripts/jquery/jquery.layout-latest.js"></script>
		<script type="text/javascript" src="scripts/jquery/jquery.center.js"></script>
		<script type="text/javascript" src="scripts/jquery/jquery.msg.js"></script>
		<script type='text/javascript' src='scripts/jquery/jquery.textPlaceholder.js'></script>
		
		
		<!-- jquery css -->
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery-ui-189custom/css/ui-lightness/jquery-ui-1.8.9.custom.css" />
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery-ui-189custom/development-bundle/themes/base/jquery.ui.all.css" />
		<link rel="stylesheet" type="text/css" href="scripts/jquery/jquery.msg.css" media="screen" />
	
	
		<!-- metaowkrs for json2 (ie7) -->
			<script type="text/javascript" src="scripts/json/json2.js"></script>
	
		<!-- metaworks for keyboard mapping -->
		<script type="text/javascript" src="scripts/shortcut.js"></script>
		
		<!-- metaworks for context menu, import YUI -->
		<script type="text/javascript" src="scripts/yui-3.2.0-min.js"></script>
		<link rel="stylesheet" type="text/css" href="style/menu/reset.css">
		<link rel="stylesheet" type="text/css" href="style/menu/container.css">
		<link rel="stylesheet" type="text/css" href="style/menu/sam/menu.css">
		<script type="text/javascript" src="scripts/yui/build/utilities/utilities.js"></script>
		<script type="text/javascript" src="scripts/yui/build/container/container.js"></script>
		<script type="text/javascript" src="scripts/yui/build/menu/menu.js"></script>
	 	
		
		<!-- metaworks for ejs engine -->
		<script type="text/javascript" src="scripts/ejs/ejs.js"></script>
		<script type="text/javascript" src="scripts/ejs/ejs_debugger.js"></script>
		<script type="text/javascript" src="scripts/ejs/view.js"></script>
	
	
		<!-- substitue for ejs engine (jQote2) -->		
		<script type="text/javascript" src="scripts/jquery/jquery.jqote2.js"></script>
	
		<!-- metaworks engine -->
	  	<script type='text/javascript' src='dwr/engine.js'></script> 
	  	<script type='text/javascript' src='dwr/util.js'></script>	  
	  	<script type='text/javascript' src='dwr/interface/Metaworks.js'></script> 
	  	<script type="text/javascript" src="dwr/metaworks/scripts/metaworks.js"></script>
	
	
		<!-- user scripts -->
		<script type='text/javascript' src='scripts/common.js'></script>				
		<script type='text/javascript' src='scripts/jquery/timeago/jquery.timeago.js'></script>				
		 
		<!-- user css -->
		<link rel="stylesheet" type="text/css" href="style/waveStyle/droppable_layout.css" />
		<link rel="stylesheet" type="text/css" href="style/waveStyle/signIn.css" />
	
		<!-- for check date -->
		<script type='text/javascript' src='scripts/datejs/date_kr.js'></script>
	
		<!-- mw3 component -->
		<link rel="stylesheet" type="text/css" href="style/uclipse.css" />
	
	
		<!-- popup -->
			<link rel="stylesheet" href="scripts/jquery/cluetip/jquery.cluetip.css" />
		
	
		 
		<script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.js"></script>
		<script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.carousel.js"></script> 
	    <script type="text/javascript" src="scripts/jquery/jqueryCycle/jquery.cycle2.center.js"></script> 


		<!-- Raphael -->
		<script type="text/javascript" src="resource/ajax/raphael-custom.js"></script>
		
		<!-- ExtJS -->
		<link rel="stylesheet" type="text/css" href="resource/ajax/ext-3.1.1/resources/css/ext-all.css"/>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/adapter/ext/ext-base.js"></script>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/ext-all-debug.js"></script>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/src/locale/ext-lang-en.js"></script>
		
		<!-- ExtJS - User Extension(Ext.ux.SpinnerField) -->
		<link rel="stylesheet" type="text/css" href="resource/ajax/ext-3.1.1/ux/css/Spinner.css"/>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/ux/Spinner.js"></script>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/ux/SpinnerField.js"></script>
		
		<!-- ExtJS - User Extension : Panel Resizer -->
		<link rel="stylesheet" type="text/css" href="resource/ajax/ext-3.1.1/ux/css/PanelResizer.css"/>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/ux/PanelResizer.js"></script>
		
		
		<!-- ExtJS - User Extension : RowExpander -->
		<!--<script type='text/javascript' src='resource/ajax/ext-3.1.1/ux/RowExpander.js'></script>-->
		
		<!-- ExtJS - User Extension : MaximGB TreeGrid -->
		<link rel="stylesheet" type="text/css" href="resource/ajax/ext-3.1.1/ux/ux.maximgb.tg/css/TreeGrid.css"/>
		<script type='text/javascript' src='resource/ajax/ext-3.1.1/ux/ux.maximgb.tg/TreeGrid.js'></script>
		
		<!-- ExtJS - User Extension : ColumnHeaderGroup -->
		<link rel="stylesheet" type="text/css" href="resource/ajax/ext-3.1.1/ux/css/ColumnHeaderGroup.css"/>
		<script type="text/javascript" src="resource/ajax/ext-3.1.1/ux/ColumnHeaderGroup.js"></script>
		
		<!-- Gantt Chart -->
		<link rel="stylesheet" type="text/css" href="resource/css/Ext.ux.gantt.css"/>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.Common.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.Properties.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.AjaxRequest.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.ScheduleBar.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.TaskTreeGrid.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.ChartGrid.js'></script>
		<script type='text/javascript' src='resource/js/Ext.ux.gantt.GanttChartPanel.js'></script>
		<script type='text/javascript' src='resource/js/locale/gantt-lang-en.js'></script>
		
		<script type='text/javascript' src='resource/js/Ext.ux.codi.UserView.js'></script>	
		
		
 		<script type="text/javascript">
 			// no convert for face helper variable and start with '__' char variable
 			dwr.engine.serialize.convertObject = function(batch, directrefmap, otherrefmap, data, name, depth) {
 			      // treat objects as an associative arrays
 			      var reply = "Object_" + dwr.engine.serialize.getObjectClassName(data).replace(/:/g, "?") + ":{";
 			      var elementset = (data.constructor && data.constructor.$dwrClassMembers ? data.constructor.$dwrClassMembers : data);
 			      var element;
 			      for (element in elementset) {
 			        if (typeof data[element] != "function" && !dwr.engine._excludeObjectAttributes[element] && (element.indexOf('__') != 0 || element == '__className')) {
 			          batch.paramCount++;
 			          var childName = "c" + dwr.engine._batch.map.callCount + "-e" + batch.paramCount;
 			          dwr.engine.serialize.convert(batch, directrefmap, otherrefmap, data[element], childName, depth + 1);
 			          reply += encodeURIComponent(element) + ":reference:" + childName + ", ";
 			        }
 			      }

 			      if (reply.substring(reply.length - 2) == ", ") {
 			        reply = reply.substring(0, reply.length - 2);
 			      }
 			      reply += "}";

 			      return reply;
 			    };
 			    
 		
			mw3.usingTemplateEngine = 'jQote';
			mw3.needToConfirmMessage = '$confirm.message';
							
			//mw3.optimizeObjectMemory = true;
			
			
			var Request = function() {
				this.getParameter = function(name) {
					var rtnval = "";
					var nowAddress = unescape(location.href);
					var parameters = (nowAddress.slice(nowAddress.indexOf("?") + 1,
							nowAddress.length)).split("&");
	
					for ( var i = 0; i < parameters.length; i++) {
						var varName = parameters[i].split("=")[0];
						if (varName.toUpperCase() == name.toUpperCase()) {
							rtnval = parameters[i].split("=")[1];
							break;
						}
					}
					return rtnval;
				}
			}

			$(document).ready(function() {
				$.fn.cycle.defaults.autoSelector = '.slideshow';
				
				var request = new Request();

				if (navigator.appVersion.indexOf("Win")!=-1){
					$('body').css('font-family', "'맑은 고딕', Malgun gothic, Arial");
				}

				
				mw3.recordingExceptClasses["org.uengine.codi.mw3.model.Session"] = true;
				
				
		 		mw3.setWhen(mw3.WHEN_VIEW);
		 		mw3.template_error = function(e, actualFace) {
					if(e.lineNumber){
						if(e.lineText)
							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.lineText+": "+e.message;
						else
							var message = "["+actualFace+"] at line "+e.lineNumber+": "+e.message;
					}else
						var message = "["+actualFace+"] "+e.message;
				
					var logger = mw3.getAutowiredObject('org.uengine.codi.platform.Console');
					if(logger) logger.__getFaceHelper().addLog( message );
					else
						alert(message);
					
		 		};
		 		
		 		Metaworks3.prototype.startLoading = function(objId){
                    var divId = mw3._getObjectDivId(objId);
                    var offset = $('#' + divId).offset();                    
                    
                    if(offset){
	                    var offsetRight = offset.left + $('#' + divId).width() - 20;                    
	                    var offsetMiddle = offset.top + ($('#' + divId).height()/2- 11);
	                    
	                    var html;
	                    html = "<div id='loading_div_" + objId + "' style='position:absolute; z-index:9999999; top:"+offsetMiddle+"px; left:"+offsetRight+"px;'><div id='info_div_box' ><img src='dwr/metaworks/images/circleloading.gif'></div></div>";
	                    
	                    $('body').append(html);
                    }
                };
                        
                Metaworks3.prototype.showInfo = function(objId, message){
                    var divId = mw3._getObjectDivId(objId);
                    var offset = $('#' + divId).offset();                    
                    
                    if(offset){
                    	var offsetRight = offset.left + $('#' + divId).width() - 20;                    
                        var offsetMiddle = offset.top + ($('#' + divId).height()/2- 11);
                        
                        var html;
                        html = "<div id='info_div_" + objId + "' style='position:absolute; z-index:9999999; top:"+offsetMiddle+"px; left:"+offsetRight+"px;'><div id='info_div_done_box'  >"+message+"</div></div>";
                        
                        $('body').append(html);
                        setTimeout(function(){
                        	$('body>#info_div_' + objId).fadeOut(500);
                        	setTimeout(function(){$('body>#info_div_' + objId).remove();},500);	
                        	},2000);
                    }
                    
                };
                
                Metaworks3.prototype.endLoading = function(objId){
                     $('body>#loading_div_' + objId).remove();
                };
                
		 		mw3.showError = function(objId, message, methodName){
					if( this.getFaceHelper(objId) && this.getFaceHelper(objId).endLoading)
						this.getFaceHelper(objId).endLoading();	
					else
						mw3.endLoading(objId);
					
					try{mw3.endLoading(objId);}catch(x){}
					
					$.msg({
							bgPath : mw3.base + '/images/',
						    content : "<b>" + mw3.localize(message) + "</b>"
					});
		 		}
		 		
		 		mw3.alert = function(message){
					$.msg({
							bgPath : mw3.base + '/images/',
						    content : "<b>" + mw3.localize(message) + "</b>"
					});
		 		}
		 		
		 		mw3.localize = function(){		 		
		 			var message = arguments[0];
					
					if(message != null && typeof message == 'string' && message.indexOf('$')==0 && this.getMessage){
						message = message.substring(1);					
						message = this.getMessage(message);
					}
					
					if(message != null && message.match(/%s/g) != null) {
						
						if (message.match(/%s/g).length != arguments.length - 1) {
							throw new Error(mw3.localize('$NotEqualToFormatCountAndArgumentCount'));
						}
					}
					
					if(arguments.length == 1)
						return message;
					
					var pattern = /%s/g;
					var matchArray;

					var str = " ";			
							
					var cnt = 0;
					while((matchArray = pattern.exec(message)) != null){		        	
						var argument = arguments[1+ cnt++];
						argument = this.localize(argument);
						
						message = message.replace("%s", argument);
					}
					
					//console.log(message);
					return message;
		 		}
		 		
		 		mw3.getMessage = function(key, defaultValue){
		 			var localeHandler = mw3.getAutowiredObject("org.uengine.codi.mw3.model.Locale");
		 			
		 			if(localeHandler!=null && localeHandler.resourceBundle != null){		 				
		 				var message = localeHandler.resourceBundle[key];		 				
		 				if(message)
		 					return message;
		 			}
		 			
		 			if(defaultValue)
		 				return defaultValue;
		 			
		 			return key;		
		 		}
				
 				var locatePage = new MetaworksObject({
                    __className : "org.uengine.codi.mw3.model.Locale",
                    language : 'ko'
                }, 'body').load();
 				
 				
 				var instanceId = request.getParameter("instanceId");

				
				var ganttChart = new MetaworksObject({
					__className : "org.uengine.codi.gantt.ProcessGanttChart"
				}, 'body');
				
				ganttChart.instId = instanceId;
				ganttChart.load();
				
				mw3.onLoadFaceHelperScript();
			});
		</script>
	</head>
	
	<body onload="dwr.engine.setActiveReverseAjax(true);">
	</body>
</html>